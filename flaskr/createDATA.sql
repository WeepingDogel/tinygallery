DROP TABLE IF EXISTS USERS;
DROP TABLE IF EXISTS IMAGES;
DROP TABLE IF EXISTS COMMENTS;
DROP TABLE IF EXISTS ImagesLikedByUser;

CREATE TABLE USERS(
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    UserName TEXT UNIQUE NOT NULL,
    PassWord TEXT NOT NULL,
    Email TEXT NOT NULL,
    Date TEXT NOT NULL);

CREATE TABLE IMAGES(
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    UUID TEXT NOT NULL,
    OriginalFileName TEXT NOT NULL,
    ImageTitle TEXT NOT NULL,
    Description TEXT,
    Dots INTEGER DEFAULT 0,
    User TEXT NOT NULL,
    Date TEXT NOT NULL);

CREATE TABLE COMMENTS(
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    postUUID TEXT NOT NULL,
    remarkUUID TEXT NOT NULL,
    User TEXT NOT NULL,
    Comment TEXT NOT NULL,
    ReplyTo TEXT,
    ReplyToUser TEXT,
    Depth INTEGER DEFAULT 1,
    Date TEXT NOT NULL);

CREATE TABLE ImagesLikedByUser(
    User TEXT NOT NULL,
    LikedPostUUID TEXT NOT NULL,
    LikeStatus INTEGER DEFAULT 1
);